<!doctype html>
<html>
<head>
  <meta charset="utf-8">
  <title>Hello World</title>
</head>
  <script src="static/pixi/pixi.min.js"></script>
<body>
  <script type="text/javascript">
    let type = "WebGL"
    if(!PIXI.utils.isWebGLSupported()){
      type = "canvas"
    }

    PIXI.utils.sayHello(type)

	//Create a Pixi Application
	let app = new PIXI.Application({width: 1024, height: 768});

	//Add the canvas that Pixi automatically created for you to the HTML document
	document.body.appendChild(app.view);

	PIXI.loader.add("static/images/dog.png").load(setup)
	var dog
	function setup() {
		dog = new PIXI.Sprite(PIXI.loader.resources["static/images/dog.png"].texture);
        dog.width /= 10
        dog.height /= 10
		app.stage.addChild(dog)
        console.log("PIXI.loader.load()")
        app.ticker.add(function(delta) {
            var mouseX = app.renderer.plugins.interaction.mouse.global.x;
            var mouseY = app.renderer.plugins.interaction.mouse.global.y;
            var targetX = mouseX - dog.width / 2;
            var targetY = mouseY - dog.height / 2;

            dog.x += (targetX - dog.x) * 0.0625;
            dog.y += (targetY - dog.y) * 0.0625;
        });
	}

	function enlarge() {
		app.renderer.resize(app.view.width * 2, app.view.height * 2);
		dog.width  *= 2
		dog.height *= 2
	}

  </script>

  <button onclick="enlarge()">enlarge</button>

</body>
</html>
